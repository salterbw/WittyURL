// Generated by CoffeeScript 1.6.3
(function() {
  jQuery(document).ready(function() {
    return $("a").click(function(e) {
      var comment;
      e.preventDefault();
      $(this).fadeOut();
      comment = $(this).parent().parent().find(".comment");
      comment.find("input[type=text], textarea").val("");
      comment.slideDown();
      return comment.find("#newComment").click(function(e) {
        e.preventDefault();
        return $.ajax({
          type: "POST",
          url: "newComment",
          data: $("form").serialize(),
          success: function() {
            var numCom;
            comment.slideUp();
            numCom = $("#numComm");
            numCom.fadeOut(function() {
              return numCom.text(parseInt(numCom.text()) + 1);
            });
            return numCom.fadeIn();
          }
        });
      });
    });
  });

}).call(this);
